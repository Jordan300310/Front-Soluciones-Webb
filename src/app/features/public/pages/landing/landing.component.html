<div
  class="hero-section text-white text-center d-flex flex-column justify-content-center align-items-center rounded-3 m-3"
>
  <h1 class="display-4 fw-bolder">Tu Seguridad, Nuestra Prioridad</h1>
  <p class="lead fs-6" style="max-width: 500px">
    Equipos de protecci√≥n personal de alta calidad para garantizar tu bienestar en cualquier entorno
    de trabajo.
  </p>
  <a [routerLink]="'/productos'" class="btn btn-primary btn-lg mt-3"> Explorar Productos </a>
</div>

<section class="p-3">
  <h2 class="text-center fw-bold h3 pt-4 pb-3">Nuestros Productos Destacados</h2>

  <div class="mb-4 text-center">
    <input
      type="text"
      class="form-control w-75 mx-auto"
      placeholder="Buscar productos..."
      [(ngModel)]="filtro"
    />
  </div>

  <ng-container>
    @if (productos$ | async; as productos) { @if (productos | filter: filtro; as productosFiltrados)
    { @if (productosFiltrados.length > 0) {

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">
      @for (producto of productosFiltrados; track producto.id) {
      <div class="col">
        <div class="card h-100 shadow-sm rounded-3">
          <img
            [src]="producto.imagenUrl || 'assets/default-product.jpg'"
            class="card-img-top product-image"
            alt="{{ producto.nombre }}"
          />
          <div class="card-body text-center d-flex flex-column">
            <h5 class="card-title fs-6 fw-medium">
              {{ producto.nombre }}
            </h5>
            <p class="card-body text-center d-flex flex-column">
              {{ producto.descripcion }}
            </p>
            <p class="fw-bold product-price mt-auto mb-0">
              S/ {{ producto.precio | number : '1.2-2' }}
            </p>
          </div>
        </div>
      </div>
      }
    </div>
    } @else {
    <div class="text-center text-muted mt-5">
      No se encontraron productos que coincidan con "{{ filtro }}".
    </div>
    } } } @else {
    <div class="text-center mt-5">
      <div class="spinner-border text-primary" role="status"></div>
      <p class="mt-3">Cargando productos...</p>
    </div>
    }
  </ng-container>
</section>
